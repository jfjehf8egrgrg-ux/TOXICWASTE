<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TOXIC WASTE</title>

<style>
body{
  margin:0;
  min-height:100vh;
  font-family:Arial,sans-serif;
  background:url("img/background.gif") no-repeat center center fixed;
  background-size:cover;
  display:flex;
  flex-direction:column;
  align-items:center;
  overflow-x:hidden;
}

/* LOGO */
.logo{
  margin-top:30px;
  animation:logoFloat 3.5s ease-in-out infinite;
  cursor:pointer;
}
.logo img{max-width:220px;}
@keyframes logoFloat{50%{transform:translateY(-14px);}}

/* IMAGES */
.images{display:flex;gap:90px;margin-top:140px;}
.image-block{text-align:center;}
.zoomable{
  max-width:260px;
  cursor:pointer;
  transition:transform .3s ease;
}
.zoomable:hover{transform:scale(1.06);}
.noglitch{max-width:260px;}

/* VIEWER */
.viewer{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.65);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:200;
}
.viewer.active{display:flex;}
.viewer img{max-width:50vw;max-height:70vh;}
.zoom-in{animation:zin .25s ease-out forwards;}
.zoom-out{animation:zout .2s ease-in forwards;}
@keyframes zin{from{transform:scale(.4);opacity:0}to{transform:scale(1);opacity:1}}
@keyframes zout{to{transform:scale(.25);opacity:0}}

/* GREEN SPLASH */
.particle{
  position:fixed;
  width:6px;height:6px;
  background:#39ff14;
  box-shadow:0 0 12px #39ff14;
  border-radius:50%;
  pointer-events:none;
  z-index:300;
  animation:splash .8s ease-out forwards;
}
@keyframes splash{
  to{transform:translate(var(--x),var(--y)) scale(.1);opacity:0;}
}

/* MICRO GLITCH */
.noise{
  position:fixed;
  background:rgba(255,255,255,.6);
  pointer-events:none;
  z-index:90;
}

/* MEGA GLITCH */
.site-glitch{
  animation:siteGlitch .6s steps(1);
}
@keyframes siteGlitch{
  20%{transform:translate(-10px,6px);}
  40%{transform:translate(12px,-8px);}
  60%{transform:translate(-6px,10px);}
}

/* DEAD SCREEN */
.dead-screen{
  position:fixed;
  inset:0;
  z-index:999999;
  background:black;
  pointer-events:all;
  cursor:none;
  overflow:hidden;
}
.dead-screen *{
  animation:none!important;
  transition:none!important;
  pointer-events:none!important;
}

/* SNAPSHOT */
.snapshot{
  position:absolute;
  inset:0;
}

/* BIG STRIPS */
.dead-strip{
  position:absolute;
  left:0;
  width:100%;
  height:65vh;
  mix-blend-mode:difference;
  animation:stripMove .18s steps(1) infinite;
}
@keyframes stripMove{
  0%{transform:translateY(-30px);}
  50%{transform:translateY(30px);}
  100%{transform:translateY(-20px);}
}

/* DISTORT + RGB */
.dead-distort{
  animation:distort .12s steps(1) infinite;
  filter:
    drop-shadow(8px 0 red)
    drop-shadow(-8px 0 cyan)
    drop-shadow(0 6px magenta);
}
@keyframes distort{
  0%{transform:translate(6px,-4px) rotate(.6deg);}
  50%{transform:translate(-5px,3px) rotate(-.5deg);}
  100%{transform:translate(4px,-2px) rotate(.4deg);}
}

/* FACE */
.dead-face{
  position:fixed;
  inset:0;
  width:100vw;
  height:100vh;
  object-fit:cover;
  z-index:1000000;
  filter:contrast(200%) grayscale(1);
}
</style>
</head>

<body>

<audio id="exitSound" src="music/exit-glitch.mp3" preload="auto"></audio>

<div class="logo" id="exitLogo">
  <img src="img/logo3.png">
</div>

<div class="images">
  <div class="image-block"><img src="img/1.png" class="zoomable"></div>
  <div class="image-block"><img src="img/2.png" class="zoomable"></div>
  <div class="image-block"><img src="img/animation.gif" class="noglitch"></div>
</div>

<div class="viewer" id="viewer"><img id="viewerImg"></div>

<script>
/* SPLASH */
document.addEventListener('click',e=>{
  for(let i=0;i<16;i++){
    const p=document.createElement('div');
    p.className='particle';
    p.style.left=e.clientX+'px';
    p.style.top=e.clientY+'px';
    const a=Math.random()*Math.PI*2;
    const r=Math.random()*150+40;
    p.style.setProperty('--x',Math.cos(a)*r+'px');
    p.style.setProperty('--y',Math.sin(a)*r+'px');
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),800);
  }
});

/* VIEWER PNG */
const viewer=document.getElementById('viewer');
const viewerImg=document.getElementById('viewerImg');
document.querySelectorAll('.zoomable').forEach(img=>{
  img.onclick=e=>{
    if(!img.src.endsWith('.png'))return;
    e.stopPropagation();
    viewerImg.src=img.src;
    viewerImg.className='zoom-in';
    viewer.classList.add('active');
  };
});
viewer.onclick=()=>{
  viewerImg.className='zoom-out';
  setTimeout(()=>viewer.classList.remove('active'),200);
};

/* MICRO GLITCH */
setInterval(()=>{
  const n=document.createElement('div');
  n.className='noise';
  const w=Math.random()*20+5;
  const h=Math.random()*3+1;
  n.style.width=w+'px';
  n.style.height=h+'px';
  n.style.left=Math.random()*(innerWidth-w)+'px';
  n.style.top=Math.random()*(innerHeight-h)+'px';
  document.body.appendChild(n);
  setTimeout(()=>n.remove(),100);
},40);

/* MEGA GLITCH */
setInterval(()=>{
  document.body.classList.add('site-glitch');
  setTimeout(()=>document.body.classList.remove('site-glitch'),600);
},6000);

/* FNATI EXIT */
const logo=document.getElementById('exitLogo');
const sound=document.getElementById('exitSound');

logo.onclick=e=>{
  e.stopPropagation();
  sound.currentTime=0;
  sound.play();

  const dead=document.createElement('div');
  dead.className='dead-screen';

  const snap=document.body.cloneNode(true);
  snap.className='snapshot';
  dead.appendChild(snap);
  document.body.appendChild(dead);

  const colors=['#ff0000','#ffff00','#00ffff'];
  const strips=[];

  /* BIG STRIPS 2.5s */
  for(let i=0;i<3;i++){
    const s=document.createElement('div');
    s.className='dead-strip';
    s.style.top=(i*30)+'vh';
    s.style.background=colors[Math.floor(Math.random()*colors.length)];
    s.style.opacity=0.8;
    dead.appendChild(s);
    strips.push(s);
  }

  setTimeout(()=>{
    // Убираем старые полосы
    strips.forEach(s => s.remove());

    // Создаём новые большие полосы для "жёсткого глитча"
    const glitchStrips = [];
    for (let i = 0; i < 4; i++) {
      const s = document.createElement('div');
      s.className = 'dead-strip';
      s.style.top = (i * 20) + 'vh';
      s.style.height = '25vh';
      s.style.background = 'rgba(255,255,255,0.2)';
      dead.appendChild(s);
      glitchStrips.push(s);
    }

    // Смещение клона страницы (кадр дергается)
    let count = 0;
    const glitchInterval = setInterval(() => {
      const offsetX = (Math.random() - 0.5) * 20;
      const offsetY = (Math.random() - 0.5) * 20;
      snap.style.transform = `translate(${offsetX}px, ${offsetY}px)`;
      count++;
      if (count > 15) { // ~1.5 секунды
        clearInterval(glitchInterval);
        snap.style.transform = '';

        // Показываем лицо
        const face = document.createElement('img');
        face.src = 'img/face.png';
        face.className = 'dead-face';
        dead.appendChild(face);

        requestAnimationFrame(()=>{
          requestAnimationFrame(()=>location.reload());
        });
      }
    }, 100);

  }, 2500);
};
</script>

</body>
</html>
















