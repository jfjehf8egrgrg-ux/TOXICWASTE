<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TOXIC WASTE</title>

<style>
body {
  margin:0;
  min-height:100vh;
  background:url("img/background.gif") no-repeat center center fixed;
  background-size:cover;
  font-family:Arial,sans-serif;
  display:flex;
  flex-direction:column;
  align-items:center;
  overflow-x:hidden;
}

/* HARD FREEZE */
.freeze,
.freeze * {
  animation: none !important;
  transition: none !important;
  pointer-events: none !important;
}
.freeze {
  cursor: none !important;
}

/* RGB */
body.rgb-glitch {
  filter:
    drop-shadow(10px 0 red)
    drop-shadow(-10px 0 cyan)
    drop-shadow(0 10px magenta);
}

/* LOGO */
.logo {
  margin-top:30px;
  animation:logoFloat 3.5s ease-in-out infinite;
  cursor:pointer;
}
.logo img { max-width:220px; }
@keyframes logoFloat { 50% { transform:translateY(-14px); } }

/* IMAGES */
.images { display:flex; gap:90px; margin-top:140px; }
.zoomable {
  max-width:260px;
  cursor:pointer;
  transition:transform .3s;
}
.zoomable:hover { transform:scale(1.06); }
.noglitch { max-width:260px; }

/* VIEWER */
.viewer {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.65);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:200;
}
.viewer.active { display:flex; }
.viewer img { max-width:50vw; max-height:70vh; }
.zoom-in { animation:zin .25s ease-out forwards; }
.zoom-out { animation:zout .2s ease-in forwards; }
@keyframes zin { from{transform:scale(.4);opacity:0} to{transform:scale(1);opacity:1} }
@keyframes zout { to{transform:scale(.25);opacity:0} }

/* SPLASH */
.particle {
  position:fixed;
  width:6px;height:6px;
  background:#39ff14;
  box-shadow:0 0 12px #39ff14;
  border-radius:50%;
  pointer-events:none;
  z-index:300;
  animation:splash .8s forwards;
}
@keyframes splash {
  to { transform:translate(var(--x),var(--y)) scale(.1); opacity:0; }
}

/* GLITCH STRIPS */
.glitch-strip {
  position:fixed;
  left:0;
  width:100vw;
  z-index:600;
  mix-blend-mode:difference;
}

/* FACE */
.face {
  position:fixed;
  inset:0;
  background:black;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
}
.face img {
  max-width:80vw;
  filter:contrast(180%) saturate(0);
}
</style>
</head>

<body>

<audio id="exitSound" src="music/exit-glitch.mp3"></audio>

<div class="logo" id="exitLogo">
  <img src="img/logo3.png">
</div>

<div class="images">
  <img src="img/1.png" class="zoomable">
  <img src="img/2.png" class="zoomable">
  <img src="img/animation.gif" class="noglitch">
</div>

<div class="viewer" id="viewer"><img id="viewerImg"></div>

<script>
let frozen = false;

/* BLOCK ALL EVENTS WHEN FROZEN */
document.addEventListener('click',e=>{
  if(frozen){ e.stopImmediatePropagation(); e.preventDefault(); }
},true);

/* SPLASH */
document.addEventListener('click',e=>{
  if(frozen) return;
  for(let i=0;i<16;i++){
    const p=document.createElement('div');
    p.className='particle';
    p.style.left=e.clientX+'px';
    p.style.top=e.clientY+'px';
    const a=Math.random()*Math.PI*2;
    const r=Math.random()*140+40;
    p.style.setProperty('--x',Math.cos(a)*r+'px');
    p.style.setProperty('--y',Math.sin(a)*r+'px');
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),800);
  }
});

/* VIEWER */
const viewer=document.getElementById('viewer');
const viewerImg=document.getElementById('viewerImg');
document.querySelectorAll('.zoomable').forEach(img=>{
  img.onclick=e=>{
    if(frozen || !img.src.endsWith('.png')) return;
    viewerImg.src=img.src;
    viewerImg.className='zoom-in';
    viewer.classList.add('active');
  };
});
viewer.onclick=()=>{
  viewerImg.className='zoom-out';
  setTimeout(()=>viewer.classList.remove('active'),200);
};

/* EXIT SEQUENCE */
const logo=document.getElementById('exitLogo');
const sound=document.getElementById('exitSound');

logo.onclick=e=>{
  if(frozen) return;
  frozen = true;

  sound.play();
  document.body.classList.add('freeze','rgb-glitch');

  /* 2.5s BIG STRIPS */
  const colors=['#ff0000','#ffff00','#00ff00','#00ffff','#ff00ff'];
  const strips=[];
  for(let i=0;i<5;i++){
    const s=document.createElement('div');
    s.className='glitch-strip';
    s.style.top=Math.random()*innerHeight+'px';
    s.style.height=(Math.random()*140+80)+'px';
    s.style.background=colors[Math.floor(Math.random()*colors.length)];
    s.style.opacity=0.5;
    document.body.appendChild(s);
    strips.push(s);
  }

  setTimeout(()=>{
    strips.forEach(s=>s.remove());

    /* 1.5s DISTORT */
    document.body.style.transform='translate(6px,-4px)';

    setTimeout(()=>{
      const face=document.createElement('div');
      face.className='face';
      face.innerHTML='<img src="img/face.png">';
      document.body.appendChild(face);

      requestAnimationFrame(()=>{
        requestAnimationFrame(()=>location.reload());
      });
    },1500);

  },2500);
};
</script>

</body>
</html>






