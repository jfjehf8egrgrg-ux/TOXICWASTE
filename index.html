<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TOXIC WASTE</title>

<style>
body {
  margin:0;
  min-height:100vh;
  font-family:Arial,sans-serif;
  overflow:hidden;
  background:url("img/background.gif") no-repeat center center fixed;
  background-size:cover;
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* RGB-глитч */
body.rgb-glitch {
  filter:
    drop-shadow(var(--rgbR) 0 red)
    drop-shadow(calc(var(--rgbR)*-1) 0 cyan)
    drop-shadow(0 var(--rgbR) magenta);
}

/* ЛОГО */
.logo {
  margin-top:30px;
  cursor:pointer;
  animation:logoFloat 3.5s ease-in-out infinite;
}
.logo img { max-width:220px; }
@keyframes logoFloat {
  50% { transform:translateY(-14px); }
}

/* РЕЗКИЙ ДЁРГ */
.jerk {
  animation: jerk .12s steps(1);
}
@keyframes jerk {
  25% { transform:translate(-18px,6px); }
  50% { transform:translate(12px,-10px); }
  75% { transform:translate(-8px,14px); }
}

/* ГЛИТЧ-ЛАГ */
.glitch {
  animation: glitchShake .08s infinite steps(1);
}
@keyframes glitchShake {
  25% { transform:translate(-6px,3px); }
  50% { transform:translate(4px,-5px); }
  75% { transform:translate(-5px,-6px); }
}

.noise {
  position:fixed;
  pointer-events:none;
  background:white;
  z-index:100;
}

/* ЛИЦО НА 1 КАДР */
.face-frame {
  position:fixed;
  inset:0;
  background:black;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
}
.face-frame img {
  max-width:80vw;
  filter:contrast(180%) saturate(0);
}
</style>
</head>

<body>

<audio id="exitSound" src="music/exit-glitch.mp3" preload="auto"></audio>

<div class="logo exit-trigger">
  <img src="img/logo3.png">
</div>

<script>
const logo = document.querySelector('.exit-trigger');
const sound = document.getElementById('exitSound');

logo.addEventListener('click', e => {
  e.stopPropagation();

  /* 1️⃣ СРАЗУ ЗВУК */
  sound.currentTime = 0;
  sound.play();

  /* 2️⃣ РЕЗКИЙ ДЁРГ */
  document.body.classList.add('jerk');
  setTimeout(() => document.body.classList.remove('jerk'), 150);

  /* 3️⃣ ЛАГАЮЩИЙ ГЛИТЧ */
  document.body.classList.add('rgb-glitch','glitch');

  let noiseInt = setInterval(() => {
    document.body.style.setProperty('--rgbR', (Math.random()*10+4)+'px');

    for(let i=0;i<30;i++){
      const n = document.createElement('div');
      n.className = 'noise';
      n.style.width = Math.random()*140+20+'px';
      n.style.height = Math.random()*6+2+'px';
      n.style.left = Math.random()*innerWidth+'px';
      n.style.top = Math.random()*innerHeight+'px';
      document.body.appendChild(n);
      setTimeout(()=>n.remove(),100);
    }
  }, 40);

  /* 4️⃣ РОВНО 4 СЕКУНДЫ */
  setTimeout(() => {
    clearInterval(noiseInt);

    /* 5️⃣ ЛИЦО НА 1 КАДР */
    const face = document.createElement('div');
    face.className = 'face-frame';
    face.innerHTML = `<img src="img/face.png">`;
    document.body.appendChild(face);

    requestAnimationFrame(() => {
      /* 6️⃣ ПЕРЕЗАГРУЗКА */
      location.reload();
    });

  }, 4000);
});
</script>

</body>
</html>


